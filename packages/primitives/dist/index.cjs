"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("solid-js"),E=require("solid-js/web");function H(t){return Object.prototype.toString.call(t)==="[object String]"}function q(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function V(t){for(;t&&!q(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function b(t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}var i=t=>typeof t=="function"&&!t.length?t():t;function B(t,...e){return typeof t=="function"?t(...e):t}function x(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.userAgentData?.platform||window.navigator.platform):!1}function W(){return x(/^Mac/i)}function $(){return x(/^iPhone/i)}function Q(){return x(/^iPad/i)||W()&&navigator.maxTouchPoints>1}function z(){return $()||Q()}function Y(t){return H(t)?t:void 0}function D(t){const[e,n]=o.createSignal(t.defaultValue?.()),r=o.createMemo(()=>t.value?.()!==void 0),a=o.createMemo(()=>r()?t.value?.():e());return[a,s=>{o.untrack(()=>{const m=B(s,a());return Object.is(m,a())||(r()||n(m),t.onChange?.(m)),m})}]}function j(t){const[e,n]=D(t);return[()=>e()??!1,n]}function G(t){const[e,n]=D(t);return[()=>e()??[],n]}function J(t={}){const[e,n]=j({value:()=>i(t.isOpen),defaultValue:()=>!!i(t.defaultIsOpen),onChange:s=>t.onOpenChange?.(s)}),r=()=>{n(!0)},a=()=>{n(!1)};return{isOpen:e,open:r,close:a,toggle:()=>{e()?a():r()}}}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/interactions/src/useInteractOutside.ts
 */function K(t,e){const[n,r]=o.createSignal(!1);o.createEffect(()=>{if(i(t.isDisabled))return;const a=s=>{I(s,e())&&(t.onInteractOutsideStart?.(s),r(!0))},f=s=>{n()&&I(s,e())&&(r(!1),t.onInteractOutside?.(s))};document.addEventListener("pointerdown",a,!0),document.addEventListener("pointerup",f,!0),o.onCleanup(()=>{document.removeEventListener("pointerdown",a,!0),document.removeEventListener("pointerup",f,!0)})})}function I(t,e){if(t.button>0)return!1;if(t.target){const n=t.target.ownerDocument;if(!n||!n.documentElement.contains(t.target))return!1}return!e?.contains(t.target)}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/892d41e82dc781fb4651455d0e29c324376659ed/packages/@react-aria/overlays/src/usePreventScroll.ts
 */const T=typeof window<"u"&&window.visualViewport,Z=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tt(t){o.createEffect(o.on(()=>i(t.isEnabled),e=>{!e||(z()?o.onCleanup(nt()):o.onCleanup(et()))}))}function et(){return b([w(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),w(document.documentElement,"overflow","hidden")])}function nt(){let t,e=0;const n=u=>{t=V(u.target),!(t===document.documentElement&&t===document.body)&&(e=u.changedTouches[0].pageY)},r=u=>{if(t===document.documentElement||t===document.body){u.preventDefault();return}const c=u.changedTouches[0].pageY,l=t.scrollTop,v=t.scrollHeight-t.clientHeight;(l<=0&&c>e||l>=v&&c<e)&&u.preventDefault(),e=c},a=u=>{const c=u.target;N(c)&&c!==document.activeElement&&(u.preventDefault(),c.style.transform="translateY(-2000px)",c.focus(),requestAnimationFrame(()=>{c.style.transform=""}))},f=u=>{const c=u.target;N(c)&&(c.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{c.style.transform="",T&&(T.height<window.innerHeight?requestAnimationFrame(()=>{L(c)}):T.addEventListener("resize",()=>L(c),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},m=window.pageXOffset,y=window.pageYOffset,d=b([w(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),w(document.documentElement,"overflow","hidden"),w(document.body,"marginTop",`-${y}px`)]);window.scrollTo(0,0);const S=b([g(document,"touchstart",n,{passive:!1,capture:!0}),g(document,"touchmove",r,{passive:!1,capture:!0}),g(document,"touchend",a,{passive:!1,capture:!0}),g(document,"focus",f,!0),g(window,"scroll",s)]);return()=>{d(),S(),window.scrollTo(m,y)}}function w(t,e,n){const r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function g(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function L(t){const e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){const n=V(t);if(n!==document.documentElement&&n!==document.body&&n!==t){const r=n.getBoundingClientRect().top,a=t.getBoundingClientRect().top;a>r+t.clientHeight&&(n.scrollTop+=a-r)}t=n.parentElement}}function N(t){return t instanceof HTMLInputElement&&!Z.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var ot=!E.isServer,rt=ot&&!!o.DEV,at=rt?t=>o.getOwner()?o.onCleanup(t):t:o.onCleanup;function it(t,e,n){if(E.isServer)return o.createSignal(t,n);if(o.sharedConfig.context){const[r,a]=o.createSignal(t,n);return o.onMount(()=>a(()=>e())),[r,a]}return o.createSignal(e(),n)}function ct(t,e,n,r){return t.addEventListener(e,n,r),at(t.removeEventListener.bind(t,e,n,r))}function st(t,e=o.getOwner()){let n=0,r,a;return()=>(n++,o.onCleanup(()=>{n--,queueMicrotask(()=>{!n&&a&&(a(),a=r=void 0)})}),a||o.createRoot(f=>r=t(a=f),e),r)}function lt(t){const e=o.getOwner(),n=st(t,e);return()=>E.isServer||o.sharedConfig.context?o.createRoot(t,e):n()}function F(t,e=!1){if(E.isServer)return()=>e;const n=window.matchMedia(t),[r,a]=it(e,()=>n.matches);return ct(n,"change",()=>a(n.matches)),r}function ut(t){return F("(prefers-color-scheme: dark)",t)}ut.bind(void 0,!1);function U(t,e){return F("(prefers-reduced-motion: reduce)",t)}/*!
 * Portions of this file are based on code from ariakit.
 * MIT Licensed, Copyright (c) Diego Haz.
 *
 * Credits to the Ariakit team:
 * https://github.com/ariakit/ariakit/blob/main/packages/ariakit-utils/src/hooks.ts
 */function ft(t,e){const[n,r]=o.createSignal(Y(e?.()));return o.createEffect(()=>{r(t()?.tagName.toLowerCase()||Y(e?.()))}),n}/*!
 * Portions of this file are based on code from mantinedev.
 * MIT Licensed, Copyright (c) 2021 Vitaly Rtishchev.
 *
 * Credits to the Mantinedev team:
 * https://github.com/mantinedev/mantine/blob/8546c580fdcaa9653edc6f4813103349a96cfb09/src/mantine-core/src/Transition/transitions.ts
 */const p={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0.9) translateY(10px)"}},h={fade:{in:{opacity:1},out:{opacity:0}},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{"transform-origin":"top"}},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{"transform-origin":"top"}},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{"transform-origin":"left"}},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{"transform-origin":"top"}},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{"transform-origin":"bottom"}},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{"transform-origin":"bottom"}},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{"transform-origin":"top"}},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{"transform-origin":"top"}},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{"transform-origin":"bottom"}},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{"transform-origin":"left"}},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{"transform-origin":"right"}},pop:{...p,common:{"transform-origin":"center center"}},"pop-bottom-left":{...p,common:{"transform-origin":"bottom left"}},"pop-bottom-right":{...p,common:{"transform-origin":"bottom right"}},"pop-top-left":{...p,out:{opacity:0,transform:"scale(0.9) translateY(-10px)"},common:{"transform-origin":"top left"}},"pop-top-right":{...p,out:{opacity:0,transform:"scale(0.9) translateY(-10px)"},common:{"transform-origin":"top right"}}},mt=Object.keys(h);/*!
 * Portions of this file are based on code from mantinedev.
 * MIT Licensed, Copyright (c) 2021 Vitaly Rtishchev.
 *
 * Credits to the Mantinedev team:
 * https://github.com/mantinedev/mantine/blob/8546c580fdcaa9653edc6f4813103349a96cfb09/src/mantine-core/src/Transition/get-transition-styles/get-transition-styles.ts
 */const P={beforeEnter:"out",enter:"in",afterEnter:"in",beforeExit:"in",exit:"out",afterExit:"out"};function dt(t){const e={"transition-duration":`${t.duration}ms`,"transition-timing-function":t.easing};if(H(t.transition)){if(!(t.transition in h))return{};const n=h[t.transition];return{"transition-property":R(n),...e,...n.common,...n[P[t.phase]]}}return{"transition-property":R(t.transition),...e,...t.transition.common,...t.transition[P[t.phase]]}}function R(t){return[...new Set([...Object.keys(t.in),...Object.keys(t.out)])].join(", ")}/*!
 * Portions of this file are based on code from mantinedev.
 * MIT Licensed, Copyright (c) 2021 Vitaly Rtishchev.
 *
 * Credits to the Mantinedev team:
 * https://github.com/mantinedev/mantine/blob/8546c580fdcaa9653edc6f4813103349a96cfb09/src/mantine-core/src/Transition/use-transition.ts
 */const _=250,k=10,M="ease";function gt(t,e){e=o.mergeProps({transition:"fade",duration:_,delay:k,easing:M,get exitDuration(){return i(e).duration||_},get exitDelay(){return i(e).delay||k},get exitEasing(){return i(e).easing||M}},e);const n=U(),[r,a]=o.createSignal(n()?0:i(e).duration),[f,s]=o.createSignal(i(t)?"afterEnter":"afterExit"),[m,y]=o.createSignal(i(e).easing);let d=-1;const S=l=>{const v=l?i(e).onBeforeEnter:i(e).onBeforeExit,O=l?i(e).onAfterEnter:i(e).onAfterExit;s(l?"beforeEnter":"beforeExit"),window.clearTimeout(d);const C=a(n()?0:l?i(e).duration:i(e).exitDuration);if(y(l?i(e).easing:i(e).exitEasing),C===0){v?.(),O?.(),s(l?"afterEnter":"afterExit");return}const A=n()?0:l?i(e).delay:i(e).exitDelay,X=window.setTimeout(()=>{v?.(),s(l?"enter":"exit")},A);d=window.setTimeout(()=>{window.clearTimeout(X),O?.(),s(l?"afterEnter":"afterExit")},A+C)},u=o.createMemo(()=>dt({transition:i(e).transition,duration:r(),phase:f(),easing:m()})),c=o.createMemo(()=>f()!=="afterExit");return o.createEffect(o.on(()=>i(t),l=>S(l),{defer:!0})),o.onCleanup(()=>{E.isServer||window.clearTimeout(d)}),{keepMounted:c,style:u}}exports.DEFAULT_TRANSITIONS_NAMES=mt;exports.createControllableArraySignal=G;exports.createControllableBooleanSignal=j;exports.createControllableSignal=D;exports.createDisclosure=J;exports.createInteractOutside=K;exports.createPreventScroll=tt;exports.createReducedMotion=U;exports.createTagName=ft;exports.createTransition=gt;
