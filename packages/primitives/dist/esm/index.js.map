{"version":3,"file":"index.js","sources":["../../src/create-controllable-signal/create-controllable-signal.ts","../../src/create-disclosure/create-disclosure.ts","../../src/create-interact-outside/create-interact-outside.ts","../../src/create-prevent-scroll/create-prevent-scroll.ts","../../src/create-reduce-motion/create-reduce-motion.ts","../../src/create-tag-name/create-tag-name.ts","../../src/create-transition/default-transitions.ts","../../src/create-transition/get-transition-styles.ts","../../src/create-transition/create-transition.ts"],"sourcesContent":["import { accessWith } from \"@hope-ui/utils\";\r\nimport { Accessor, createMemo, createSignal, untrack } from \"solid-js\";\r\n\r\nexport interface CreateControllableSignalProps<T> {\r\n  /** The value to be used, in controlled mode. */\r\n  value?: Accessor<T | undefined>;\r\n\r\n  /** The initial value to be used, in uncontrolled mode. */\r\n  defaultValue?: Accessor<T | undefined>;\r\n\r\n  /** A function that will be called when the value changes. */\r\n  onChange?: (value: T) => void;\r\n}\r\n\r\n/**\r\n * Creates a simple reactive state with a getter and setter,\r\n * that can be controlled with `value` and `onChange` props.\r\n */\r\nexport function createControllableSignal<T>(props: CreateControllableSignalProps<T>) {\r\n  // Internal uncontrolled value\r\n  // eslint-disable-next-line solid/reactivity\r\n  const [_value, _setValue] = createSignal(props.defaultValue?.());\r\n\r\n  const isControlled = createMemo(() => props.value?.() !== undefined);\r\n\r\n  const value = createMemo(() => (isControlled() ? props.value?.() : _value()));\r\n\r\n  const setValue = (next: Exclude<T, Function> | ((prev: T) => T)) => {\r\n    untrack(() => {\r\n      const nextValue = accessWith(next, value() as T);\r\n\r\n      if (!Object.is(nextValue, value())) {\r\n        if (!isControlled()) {\r\n          _setValue(nextValue as Exclude<T, Function>);\r\n        }\r\n\r\n        props.onChange?.(nextValue);\r\n      }\r\n\r\n      return nextValue;\r\n    });\r\n  };\r\n\r\n  return [value, setValue] as const;\r\n}\r\n\r\n/**\r\n * Creates a simple reactive boolean state with a getter, setter and a fallback value of `false`,\r\n * that can be controlled with `value` and `onChange` props.\r\n */\r\nexport function createControllableBooleanSignal(props: CreateControllableSignalProps<boolean>) {\r\n  const [_value, setValue] = createControllableSignal(props);\r\n\r\n  const value: Accessor<boolean> = () => _value() ?? false;\r\n\r\n  return [value, setValue] as const;\r\n}\r\n\r\n/**\r\n * Creates a simple reactive array state with a getter, setter and a fallback value of `[]`,\r\n * that can be controlled with `value` and `onChange` props.\r\n */\r\nexport function createControllableArraySignal<T>(props: CreateControllableSignalProps<Array<T>>) {\r\n  const [_value, setValue] = createControllableSignal(props);\r\n\r\n  const value: Accessor<Array<T>> = () => _value() ?? [];\r\n\r\n  return [value, setValue] as const;\r\n}\r\n","import { access, MaybeAccessor } from \"@hope-ui/utils\";\r\n\r\nimport { createControllableBooleanSignal } from \"../create-controllable-signal\";\r\n\r\nexport interface CreateDisclosureProps {\r\n  /** The value to be used, in controlled mode. */\r\n  isOpen?: MaybeAccessor<boolean | undefined>;\r\n\r\n  /** The initial value to be used, in uncontrolled mode. */\r\n  defaultIsOpen?: MaybeAccessor<boolean | undefined>;\r\n\r\n  /** A function that will be called when `isOpen` value changes. */\r\n  onOpenChange?: (isOpen: boolean) => void;\r\n}\r\n\r\n/**\r\n * Provides state management for open, close and toggle scenarios.\r\n * Used to control the \"open state\" of components like Modal, Drawer, etc.\r\n */\r\nexport function createDisclosure(props: CreateDisclosureProps = {}) {\r\n  const [isOpen, setIsOpen] = createControllableBooleanSignal({\r\n    value: () => access(props.isOpen),\r\n    defaultValue: () => !!access(props.defaultIsOpen),\r\n    onChange: value => props.onOpenChange?.(value),\r\n  });\r\n\r\n  const open = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const close = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const toggle = () => {\r\n    isOpen() ? close() : open();\r\n  };\r\n\r\n  return {\r\n    isOpen,\r\n    open,\r\n    close,\r\n    toggle,\r\n  };\r\n}\r\n","/*!\r\n * Portions of this file are based on code from react-spectrum.\r\n * Apache License Version 2.0, Copyright 2020 Adobe.\r\n *\r\n * Credits to the React Spectrum team:\r\n * https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/interactions/src/useInteractOutside.ts\r\n */\r\n\r\nimport { access, MaybeAccessor } from \"@hope-ui/utils\";\r\nimport { Accessor, createEffect, createSignal, onCleanup } from \"solid-js\";\r\n\r\nexport interface CreateInteractOutsideProps {\r\n  /** Whether the interact outside events should be disabled. */\r\n  isDisabled?: MaybeAccessor<boolean | undefined>;\r\n\r\n  /** Handler that is called when an interaction outside the `ref` element start. */\r\n  onInteractOutsideStart?: (e: Event) => void;\r\n\r\n  /** Handler that is called when interaction outside the `ref` element end. */\r\n  onInteractOutside?: (e: Event) => void;\r\n}\r\n\r\n/**\r\n * Handles interaction outside a given element.\r\n * Used in components like Dialogs and Popovers, so they can close when a user clicks outside them.\r\n * @param props - Props of the primitive.\r\n * @param ref - A ref for the HTML element.\r\n */\r\nexport function createInteractOutside(\r\n  props: CreateInteractOutsideProps,\r\n  ref: Accessor<Element | undefined>\r\n) {\r\n  const [isPointerDown, setIsPointerDown] = createSignal(false);\r\n\r\n  createEffect(() => {\r\n    if (access(props.isDisabled)) {\r\n      return;\r\n    }\r\n\r\n    const onPointerDown = (e: PointerEvent) => {\r\n      if (isInteractOutsideEvent(e, ref())) {\r\n        props.onInteractOutsideStart?.(e);\r\n        setIsPointerDown(true);\r\n      }\r\n    };\r\n\r\n    const onPointerUp = (e: PointerEvent) => {\r\n      if (isPointerDown() && isInteractOutsideEvent(e, ref())) {\r\n        setIsPointerDown(false);\r\n        props.onInteractOutside?.(e);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"pointerdown\", onPointerDown, true);\r\n    document.addEventListener(\"pointerup\", onPointerUp, true);\r\n\r\n    onCleanup(() => {\r\n      document.removeEventListener(\"pointerdown\", onPointerDown, true);\r\n      document.removeEventListener(\"pointerup\", onPointerUp, true);\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Returns whether the event is a valid interact outside event\r\n * (e.g. the event target is outside the element).\r\n */\r\nfunction isInteractOutsideEvent(event: any, element: Element | undefined) {\r\n  if (event.button > 0) {\r\n    return false;\r\n  }\r\n\r\n  // if the event target is no longer in the document\r\n  if (event.target) {\r\n    const ownerDocument = event.target.ownerDocument;\r\n\r\n    if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return !element?.contains(event.target);\r\n}\r\n","/*!\r\n * Portions of this file are based on code from react-spectrum.\r\n * Apache License Version 2.0, Copyright 2020 Adobe.\r\n *\r\n * Credits to the React Spectrum team:\r\n * https://github.com/adobe/react-spectrum/blob/892d41e82dc781fb4651455d0e29c324376659ed/packages/@react-aria/overlays/src/usePreventScroll.ts\r\n */\r\n\r\nimport { access, chain, getScrollParent, isIOS, MaybeAccessor } from \"@hope-ui/utils\";\r\nimport { createEffect, on, onCleanup } from \"solid-js\";\r\n\r\nexport interface PreventScrollOptions {\r\n  /** Whether the scroll lock is enabled. */\r\n  isEnabled: MaybeAccessor<boolean>;\r\n}\r\n\r\nconst visualViewport = typeof window !== \"undefined\" && window.visualViewport;\r\n\r\n// HTML input types that do not cause the software keyboard to appear.\r\nconst nonTextInputTypes = new Set([\r\n  \"checkbox\",\r\n  \"radio\",\r\n  \"range\",\r\n  \"color\",\r\n  \"file\",\r\n  \"image\",\r\n  \"button\",\r\n  \"submit\",\r\n  \"reset\",\r\n]);\r\n\r\n/**\r\n * Prevents scrolling on the document body on mount, and\r\n * restores it on unmount. Also ensures that content does not\r\n * shift due to the scrollbars disappearing.\r\n */\r\nexport function createPreventScroll(options: PreventScrollOptions) {\r\n  createEffect(\r\n    on(\r\n      () => access(options.isEnabled),\r\n      isEnabled => {\r\n        if (!isEnabled) {\r\n          return;\r\n        }\r\n\r\n        if (isIOS()) {\r\n          onCleanup(preventScrollMobileSafari());\r\n        } else {\r\n          onCleanup(preventScrollStandard());\r\n        }\r\n      }\r\n    )\r\n  );\r\n}\r\n\r\n// For most browsers, all we need to do is set `overflow: hidden` on the root element, and\r\n// add some padding to prevent the page from shifting when the scrollbar is hidden.\r\nfunction preventScrollStandard() {\r\n  return chain([\r\n    setStyle(\r\n      document.documentElement,\r\n      \"paddingRight\",\r\n      `${window.innerWidth - document.documentElement.clientWidth}px`\r\n    ),\r\n    setStyle(document.documentElement, \"overflow\", \"hidden\"),\r\n  ]);\r\n}\r\n\r\n// Mobile Safari is a whole different beast. Even with overflow: hidden,\r\n// it still scrolls the page in many situations:\r\n//\r\n// 1. When the bottom toolbar and address bar are collapsed, page scrolling is always allowed.\r\n// 2. When the keyboard is visible, the viewport does not resize. Instead, the keyboard covers part of\r\n//    it, so it becomes scrollable.\r\n// 3. When tapping on an input, the page always scrolls so that the input is centered in the visual viewport.\r\n//    This may cause even fixed position elements to scroll off the screen.\r\n// 4. When using the next/previous buttons in the keyboard to navigate between inputs, the whole page always\r\n//    scrolls, even if the input is inside a nested scrollable element that could be scrolled instead.\r\n//\r\n// In order to work around these cases, and prevent scrolling without jankiness, we do a few things:\r\n//\r\n// 1. Prevent default on `touchmove` events that are not in a scrollable element. This prevents touch scrolling\r\n//    on the window.\r\n// 2. Prevent default on `touchmove` events inside a scrollable element when the scroll position is at the\r\n//    top or bottom. This avoids the whole page scrolling instead, but does prevent overscrolling.\r\n// 3. Prevent default on `touchend` events on input elements and handle focusing the element ourselves.\r\n// 4. When focusing an input, apply a transform to trick Safari into thinking the input is at the top\r\n//    of the page, which prevents it from scrolling the page. After the input is focused, scroll the element\r\n//    into view ourselves, without scrolling the whole page.\r\n// 5. Offset the body by the scroll position using a negative margin and scroll to the top. This should appear the\r\n//    same visually, but makes the actual scroll position always zero. This is required to make all of the\r\n//    above work or Safari will still try to scroll the page when focusing an input.\r\n// 6. As a last resort, handle window scroll events, and scroll back to the top. This can happen when attempting\r\n//    to navigate to an input with the next/previous buttons that's outside a modal.\r\nfunction preventScrollMobileSafari() {\r\n  let scrollable: Element;\r\n  let lastY = 0;\r\n  const onTouchStart = (e: TouchEvent) => {\r\n    // Store the nearest scrollable parent element from the element that the user touched.\r\n    scrollable = getScrollParent(e.target as Element);\r\n    if (scrollable === document.documentElement && scrollable === document.body) {\r\n      return;\r\n    }\r\n\r\n    lastY = e.changedTouches[0].pageY;\r\n  };\r\n\r\n  const onTouchMove = (e: TouchEvent) => {\r\n    // Prevent scrolling the window.\r\n    if (scrollable === document.documentElement || scrollable === document.body) {\r\n      e.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // Prevent scrolling up when at the top and scrolling down when at the bottom\r\n    // of a nested scrollable area, otherwise mobile Safari will start scrolling\r\n    // the window instead. Unfortunately, this disables bounce scrolling when at\r\n    // the top, but it's the best we can do.\r\n    const y = e.changedTouches[0].pageY;\r\n    const scrollTop = scrollable.scrollTop;\r\n    const bottom = scrollable.scrollHeight - scrollable.clientHeight;\r\n\r\n    if ((scrollTop <= 0 && y > lastY) || (scrollTop >= bottom && y < lastY)) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    lastY = y;\r\n  };\r\n\r\n  const onTouchEnd = (e: TouchEvent) => {\r\n    const target = e.target as HTMLElement;\r\n\r\n    // Apply this change if we're not already focused on the target element\r\n    if (willOpenKeyboard(target) && target !== document.activeElement) {\r\n      e.preventDefault();\r\n\r\n      // Apply a transform to trick Safari into thinking the input is at the top of the page,\r\n      // so it doesn't try to scroll it into view. When tapping on an input, this needs to\r\n      // be done before the \"focus\" event, so we have to focus the element ourselves.\r\n      target.style.transform = \"translateY(-2000px)\";\r\n      target.focus();\r\n      requestAnimationFrame(() => {\r\n        target.style.transform = \"\";\r\n      });\r\n    }\r\n  };\r\n\r\n  const onFocus = (e: FocusEvent) => {\r\n    const target = e.target as HTMLElement;\r\n    if (willOpenKeyboard(target)) {\r\n      // Transform also needs to be applied in the focus event in cases where focus moves\r\n      // other than tapping on an input directly, e.g. the next/previous buttons in the\r\n      // software keyboard. In these cases, it seems applying the transform in the focus event\r\n      // is good enough, whereas when tapping an input, it must be done before the focus event.\r\n      target.style.transform = \"translateY(-2000px)\";\r\n      requestAnimationFrame(() => {\r\n        target.style.transform = \"\";\r\n\r\n        // This will have prevented the browser from scrolling the focused element into view,\r\n        // so we need to do this ourselves in a way that doesn't cause the whole page to scroll.\r\n        if (visualViewport) {\r\n          if (visualViewport.height < window.innerHeight) {\r\n            // If the keyboard is already visible, do this after one additional frame\r\n            // to wait for the transform to be removed.\r\n            requestAnimationFrame(() => {\r\n              scrollIntoView(target);\r\n            });\r\n          } else {\r\n            // Otherwise, wait for the visual viewport to resize before scrolling, so we can\r\n            // measure the correct position to scroll to.\r\n            visualViewport.addEventListener(\"resize\", () => scrollIntoView(target), { once: true });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const onWindowScroll = () => {\r\n    // Last resort. If the window scrolled, scroll it back to the top.\r\n    // It should always be at the top because the body will have a negative margin (see below).\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  // Record the original scroll position, so we can restore it.\r\n  // Then apply a negative margin to the body to offset it by the scroll position. This will\r\n  // enable us to scroll the window to the top, which is required for the rest of this to work.\r\n  const scrollX = window.pageXOffset;\r\n  const scrollY = window.pageYOffset;\r\n  const restoreStyles = chain([\r\n    setStyle(\r\n      document.documentElement,\r\n      \"paddingRight\",\r\n      `${window.innerWidth - document.documentElement.clientWidth}px`\r\n    ),\r\n    setStyle(document.documentElement, \"overflow\", \"hidden\"),\r\n    setStyle(document.body, \"marginTop\", `-${scrollY}px`),\r\n  ]);\r\n\r\n  // Scroll to the top. The negative margin on the body will make this appear the same.\r\n  window.scrollTo(0, 0);\r\n\r\n  const removeEvents = chain([\r\n    addEvent(document, \"touchstart\", onTouchStart, {\r\n      passive: false,\r\n      capture: true,\r\n    }),\r\n    addEvent(document, \"touchmove\", onTouchMove, {\r\n      passive: false,\r\n      capture: true,\r\n    }),\r\n    addEvent(document, \"touchend\", onTouchEnd, {\r\n      passive: false,\r\n      capture: true,\r\n    }),\r\n    addEvent(document, \"focus\", onFocus, true),\r\n    addEvent(window, \"scroll\", onWindowScroll),\r\n  ]);\r\n\r\n  return () => {\r\n    // Restore styles and scroll the page back to where it was.\r\n    restoreStyles();\r\n    removeEvents();\r\n    window.scrollTo(scrollX, scrollY);\r\n  };\r\n}\r\n\r\n/**\r\n * Sets a CSS property on an element, and returns a function to revert it to the previous value.\r\n */\r\nfunction setStyle(element: HTMLElement, style: string, value: string) {\r\n  const cur = element.style[style as any];\r\n  element.style[style as any] = value;\r\n\r\n  return () => {\r\n    element.style[style as any] = cur;\r\n  };\r\n}\r\n\r\n/**\r\n * Adds an event listener to an element, and returns a function to remove it.\r\n */\r\nfunction addEvent<K extends keyof GlobalEventHandlersEventMap>(\r\n  target: EventTarget,\r\n  event: K,\r\n  handler: (this: Document, ev: GlobalEventHandlersEventMap[K]) => any,\r\n  options?: boolean | AddEventListenerOptions\r\n) {\r\n  target.addEventListener(event, handler as any, options);\r\n\r\n  return () => {\r\n    target.removeEventListener(event, handler as any, options);\r\n  };\r\n}\r\n\r\nfunction scrollIntoView(target: Element | null) {\r\n  const root = document.scrollingElement || document.documentElement;\r\n  while (target && target !== root) {\r\n    // Find the parent scrollable element and adjust the scroll position if the target is not already in view.\r\n    const scrollable = getScrollParent(target);\r\n    if (\r\n      scrollable !== document.documentElement &&\r\n      scrollable !== document.body &&\r\n      scrollable !== target\r\n    ) {\r\n      const scrollableTop = scrollable.getBoundingClientRect().top;\r\n      const targetTop = target.getBoundingClientRect().top;\r\n      if (targetTop > scrollableTop + target.clientHeight) {\r\n        scrollable.scrollTop += targetTop - scrollableTop;\r\n      }\r\n    }\r\n\r\n    target = scrollable.parentElement;\r\n  }\r\n}\r\n\r\nfunction willOpenKeyboard(target: Element) {\r\n  return (\r\n    (target instanceof HTMLInputElement && !nonTextInputTypes.has(target.type)) ||\r\n    target instanceof HTMLTextAreaElement ||\r\n    (target instanceof HTMLElement && target.isContentEditable)\r\n  );\r\n}\r\n","import { createMediaQuery } from \"@solid-primitives/media\";\r\n\r\n/**\r\n * Detects if user prefers to reduce motion.\r\n */\r\nexport function createReducedMotion(fallbackState?: boolean, watchChange?: boolean) {\r\n  return createMediaQuery(\"(prefers-reduced-motion: reduce)\", fallbackState, watchChange);\r\n}\r\n","/*!\r\n * Portions of this file are based on code from ariakit.\r\n * MIT Licensed, Copyright (c) Diego Haz.\r\n *\r\n * Credits to the Ariakit team:\r\n * https://github.com/ariakit/ariakit/blob/main/packages/ariakit-utils/src/hooks.ts\r\n */\r\n\r\nimport { stringOrUndefined } from \"@hope-ui/utils\";\r\nimport { Accessor, Component, createEffect, createSignal } from \"solid-js\";\r\n\r\n/**\r\n * Returns the tag name by parsing an element ref and the `as` prop.\r\n * @example\r\n * function Component(props) {\r\n *   let ref: HTMLDivElement | undefined;\r\n *   const tagName = createTagName(() => ref, () => \"button\"); // div\r\n *   return <div ref={ref} {...props} />;\r\n * }\r\n */\r\nexport function createTagName(\r\n  ref: Accessor<HTMLElement | undefined>,\r\n  type?: Accessor<string | Component | undefined>\r\n) {\r\n  const [tagName, setTagName] = createSignal(stringOrUndefined(type?.()));\r\n\r\n  createEffect(() => {\r\n    setTagName(ref()?.tagName.toLowerCase() || stringOrUndefined(type?.()));\r\n  });\r\n\r\n  return tagName;\r\n}\r\n","/*!\r\n * Portions of this file are based on code from mantinedev.\r\n * MIT Licensed, Copyright (c) 2021 Vitaly Rtishchev.\r\n *\r\n * Credits to the Mantinedev team:\r\n * https://github.com/mantinedev/mantine/blob/8546c580fdcaa9653edc6f4813103349a96cfb09/src/mantine-core/src/Transition/transitions.ts\r\n */\r\n\r\nimport { TransitionName, TransitionStyles } from \"./types\";\r\n\r\nconst popIn: TransitionStyles = {\r\n  in: { opacity: 1, transform: \"scale(1)\" },\r\n  out: { opacity: 0, transform: \"scale(0.9) translateY(10px)\" },\r\n};\r\n\r\nexport const DEFAULT_TRANSITIONS: Record<TransitionName, TransitionStyles> = {\r\n  fade: {\r\n    in: { opacity: 1 },\r\n    out: { opacity: 0 },\r\n  },\r\n\r\n  scale: {\r\n    in: { opacity: 1, transform: \"scale(1)\" },\r\n    out: { opacity: 0, transform: \"scale(0)\" },\r\n    common: { \"transform-origin\": \"top\" },\r\n  },\r\n\r\n  \"scale-y\": {\r\n    in: { opacity: 1, transform: \"scaleY(1)\" },\r\n    out: { opacity: 0, transform: \"scaleY(0)\" },\r\n    common: { \"transform-origin\": \"top\" },\r\n  },\r\n\r\n  \"scale-x\": {\r\n    in: { opacity: 1, transform: \"scaleX(1)\" },\r\n    out: { opacity: 0, transform: \"scaleX(0)\" },\r\n    common: { \"transform-origin\": \"left\" },\r\n  },\r\n\r\n  \"skew-up\": {\r\n    in: { opacity: 1, transform: \"translateY(0) skew(0deg, 0deg)\" },\r\n    out: { opacity: 0, transform: \"translateY(-20px) skew(-10deg, -5deg)\" },\r\n    common: { \"transform-origin\": \"top\" },\r\n  },\r\n\r\n  \"skew-down\": {\r\n    in: { opacity: 1, transform: \"translateY(0) skew(0deg, 0deg)\" },\r\n    out: { opacity: 0, transform: \"translateY(20px) skew(-10deg, -5deg)\" },\r\n    common: { \"transform-origin\": \"bottom\" },\r\n  },\r\n\r\n  \"rotate-left\": {\r\n    in: { opacity: 1, transform: \"translateY(0) rotate(0deg)\" },\r\n    out: { opacity: 0, transform: \"translateY(20px) rotate(-5deg)\" },\r\n    common: { \"transform-origin\": \"bottom\" },\r\n  },\r\n\r\n  \"rotate-right\": {\r\n    in: { opacity: 1, transform: \"translateY(0) rotate(0deg)\" },\r\n    out: { opacity: 0, transform: \"translateY(20px) rotate(5deg)\" },\r\n    common: { \"transform-origin\": \"top\" },\r\n  },\r\n\r\n  \"slide-down\": {\r\n    in: { opacity: 1, transform: \"translateY(0)\" },\r\n    out: { opacity: 0, transform: \"translateY(-100%)\" },\r\n    common: { \"transform-origin\": \"top\" },\r\n  },\r\n\r\n  \"slide-up\": {\r\n    in: { opacity: 1, transform: \"translateY(0)\" },\r\n    out: { opacity: 0, transform: \"translateY(100%)\" },\r\n    common: { \"transform-origin\": \"bottom\" },\r\n  },\r\n\r\n  \"slide-left\": {\r\n    in: { opacity: 1, transform: \"translateX(0)\" },\r\n    out: { opacity: 0, transform: \"translateX(100%)\" },\r\n    common: { \"transform-origin\": \"left\" },\r\n  },\r\n\r\n  \"slide-right\": {\r\n    in: { opacity: 1, transform: \"translateX(0)\" },\r\n    out: { opacity: 0, transform: \"translateX(-100%)\" },\r\n    common: { \"transform-origin\": \"right\" },\r\n  },\r\n\r\n  pop: {\r\n    ...popIn,\r\n    common: { \"transform-origin\": \"center center\" },\r\n  },\r\n\r\n  \"pop-bottom-left\": {\r\n    ...popIn,\r\n    common: { \"transform-origin\": \"bottom left\" },\r\n  },\r\n\r\n  \"pop-bottom-right\": {\r\n    ...popIn,\r\n    common: { \"transform-origin\": \"bottom right\" },\r\n  },\r\n\r\n  \"pop-top-left\": {\r\n    ...popIn,\r\n    out: { opacity: 0, transform: \"scale(0.9) translateY(-10px)\" },\r\n    common: { \"transform-origin\": \"top left\" },\r\n  },\r\n\r\n  \"pop-top-right\": {\r\n    ...popIn,\r\n    out: { opacity: 0, transform: \"scale(0.9) translateY(-10px)\" },\r\n    common: { \"transform-origin\": \"top right\" },\r\n  },\r\n};\r\n\r\nexport const DEFAULT_TRANSITIONS_NAMES = Object.keys(DEFAULT_TRANSITIONS) as Array<TransitionName>;\r\n","/*!\r\n * Portions of this file are based on code from mantinedev.\r\n * MIT Licensed, Copyright (c) 2021 Vitaly Rtishchev.\r\n *\r\n * Credits to the Mantinedev team:\r\n * https://github.com/mantinedev/mantine/blob/8546c580fdcaa9653edc6f4813103349a96cfb09/src/mantine-core/src/Transition/get-transition-styles/get-transition-styles.ts\r\n */\r\n\r\nimport { isString } from \"@hope-ui/utils\";\r\nimport { JSX } from \"solid-js\";\r\n\r\nimport { DEFAULT_TRANSITIONS } from \"./default-transitions\";\r\nimport { HopeTransition, TransitionStyles } from \"./types\";\r\n\r\nconst TRANSITION_PHASES_MAP = {\r\n  beforeEnter: \"out\",\r\n  enter: \"in\",\r\n  afterEnter: \"in\",\r\n  beforeExit: \"in\", //\"out\",\r\n  exit: \"out\",\r\n  afterExit: \"out\",\r\n} as const;\r\n\r\nexport type TransitionPhase = keyof typeof TRANSITION_PHASES_MAP;\r\n\r\ninterface GetTransitionStylesParams {\r\n  transition: HopeTransition;\r\n  phase: TransitionPhase;\r\n  duration: number;\r\n  easing: JSX.CSSProperties[\"transition-timing-function\"];\r\n}\r\n\r\nexport function getTransitionStyles(params: GetTransitionStylesParams): JSX.CSSProperties {\r\n  const shared: JSX.CSSProperties = {\r\n    \"transition-duration\": `${params.duration}ms`,\r\n    \"transition-timing-function\": params.easing,\r\n  };\r\n\r\n  if (isString(params.transition)) {\r\n    if (!(params.transition in DEFAULT_TRANSITIONS)) {\r\n      return {};\r\n    }\r\n\r\n    const transitionStyles = DEFAULT_TRANSITIONS[params.transition];\r\n\r\n    return {\r\n      \"transition-property\": getTransitionProperty(transitionStyles),\r\n      ...shared,\r\n      ...transitionStyles.common,\r\n      ...transitionStyles[TRANSITION_PHASES_MAP[params.phase]],\r\n    };\r\n  }\r\n\r\n  return {\r\n    \"transition-property\": getTransitionProperty(params.transition),\r\n    ...shared,\r\n    ...params.transition.common,\r\n    ...params.transition[TRANSITION_PHASES_MAP[params.phase]],\r\n  };\r\n}\r\n\r\nfunction getTransitionProperty(transitionStyles: TransitionStyles): string {\r\n  return [\r\n    ...new Set([...Object.keys(transitionStyles.in), ...Object.keys(transitionStyles.out)]),\r\n  ].join(\", \");\r\n}\r\n","/*!\r\n * Portions of this file are based on code from mantinedev.\r\n * MIT Licensed, Copyright (c) 2021 Vitaly Rtishchev.\r\n *\r\n * Credits to the Mantinedev team:\r\n * https://github.com/mantinedev/mantine/blob/8546c580fdcaa9653edc6f4813103349a96cfb09/src/mantine-core/src/Transition/use-transition.ts\r\n */\r\n\r\nimport { access, MaybeAccessor } from \"@hope-ui/utils\";\r\nimport {\r\n  Accessor,\r\n  createEffect,\r\n  createMemo,\r\n  createSignal,\r\n  JSX,\r\n  mergeProps,\r\n  on,\r\n  onCleanup,\r\n} from \"solid-js\";\r\nimport { isServer } from \"solid-js/web\";\r\n\r\nimport { createReducedMotion } from \"../create-reduce-motion\";\r\nimport { getTransitionStyles, TransitionPhase } from \"./get-transition-styles\";\r\nimport { HopeTransition } from \"./types\";\r\n\r\nexport interface TransitionOptions {\r\n  /** Predefined transition name or transition styles. */\r\n  transition?: HopeTransition;\r\n\r\n  /** Transitions duration (in ms). */\r\n  duration?: number;\r\n\r\n  /** Exit transition duration (in ms). */\r\n  exitDuration?: number;\r\n\r\n  /** Delay before starting transitions (in ms). */\r\n  delay?: number;\r\n\r\n  /** Delay before starting the exit transition (in ms). */\r\n  exitDelay?: number;\r\n\r\n  /** Transitions timing function. */\r\n  easing?: JSX.CSSProperties[\"transition-timing-function\"];\r\n\r\n  /** Exit transition timing function. */\r\n  exitEasing?: JSX.CSSProperties[\"transition-timing-function\"];\r\n\r\n  /** A function that will be called when enter transition starts. */\r\n  onBeforeEnter?: () => void;\r\n\r\n  /** A function that will be called when enter transition ends. */\r\n  onAfterEnter?: () => void;\r\n\r\n  /** A function that will be called when exit transition starts. */\r\n  onBeforeExit?: () => void;\r\n\r\n  /** A function that will be called when exit transition ends. */\r\n  onAfterExit?: () => void;\r\n}\r\n\r\nexport interface TransitionResult {\r\n  /** Whether the element should be kept in the DOM. */\r\n  keepMounted: Accessor<boolean>;\r\n\r\n  /** The transition style to apply on the element. */\r\n  style: Accessor<JSX.CSSProperties>;\r\n}\r\n\r\nconst DEFAULT_DURATION = 250;\r\nconst DEFAULT_DELAY = 10;\r\nconst DEFAULT_EASING: JSX.CSSProperties[\"transition-timing-function\"] = \"ease\";\r\n\r\n/**\r\n * Primitive for working with enter/exit transitions.\r\n * It comes with pre-made transitions and option to create custom ones.\r\n *\r\n * @param shouldMount Whether the component should be mounted.\r\n * @param options The transition options.\r\n */\r\nexport function createTransition(\r\n  shouldMount: MaybeAccessor<boolean>,\r\n  options: MaybeAccessor<TransitionOptions>\r\n): TransitionResult {\r\n  options = mergeProps(\r\n    {\r\n      transition: \"fade\",\r\n      duration: DEFAULT_DURATION,\r\n      delay: DEFAULT_DELAY,\r\n      easing: DEFAULT_EASING,\r\n      get exitDuration() {\r\n        return access(options).duration || DEFAULT_DURATION;\r\n      },\r\n      get exitDelay() {\r\n        return access(options).delay || DEFAULT_DELAY;\r\n      },\r\n      get exitEasing() {\r\n        return access(options).easing || DEFAULT_EASING;\r\n      },\r\n    } as TransitionOptions,\r\n    options\r\n  );\r\n\r\n  const reduceMotion = createReducedMotion();\r\n\r\n  const [duration, setDuration] = createSignal(reduceMotion() ? 0 : access(options).duration!);\r\n\r\n  const [phase, setPhase] = createSignal<TransitionPhase>(\r\n    access(shouldMount) ? \"afterEnter\" : \"afterExit\"\r\n  );\r\n\r\n  const [easing, setEasing] = createSignal(access(options).easing!);\r\n\r\n  let timeoutId = -1;\r\n\r\n  const handleStateChange = (shouldMount: boolean) => {\r\n    const preHandler = shouldMount ? access(options).onBeforeEnter : access(options).onBeforeExit;\r\n    const postHandler = shouldMount ? access(options).onAfterEnter : access(options).onAfterExit;\r\n\r\n    setPhase(shouldMount ? \"beforeEnter\" : \"beforeExit\");\r\n\r\n    window.clearTimeout(timeoutId);\r\n\r\n    const newDuration = setDuration(\r\n      reduceMotion() ? 0 : shouldMount ? access(options).duration! : access(options).exitDuration!\r\n    );\r\n\r\n    setEasing(shouldMount ? access(options).easing! : access(options).exitEasing!);\r\n\r\n    if (newDuration === 0) {\r\n      preHandler?.();\r\n      postHandler?.();\r\n      setPhase(shouldMount ? \"afterEnter\" : \"afterExit\");\r\n      return;\r\n    }\r\n\r\n    const delay = reduceMotion()\r\n      ? 0\r\n      : shouldMount\r\n      ? access(options).delay!\r\n      : access(options).exitDelay!;\r\n\r\n    const preStateTimeoutId = window.setTimeout(() => {\r\n      preHandler?.();\r\n      setPhase(shouldMount ? \"enter\" : \"exit\");\r\n    }, delay);\r\n\r\n    timeoutId = window.setTimeout(() => {\r\n      window.clearTimeout(preStateTimeoutId);\r\n      postHandler?.();\r\n      setPhase(shouldMount ? \"afterEnter\" : \"afterExit\");\r\n    }, delay + newDuration);\r\n  };\r\n\r\n  const style = createMemo(() =>\r\n    getTransitionStyles({\r\n      transition: access(options).transition!,\r\n      duration: duration(),\r\n      phase: phase(),\r\n      easing: easing(),\r\n    })\r\n  );\r\n\r\n  const keepMounted = createMemo(() => phase() !== \"afterExit\");\r\n\r\n  createEffect(\r\n    on(\r\n      () => access(shouldMount),\r\n      shouldMount => handleStateChange(shouldMount),\r\n      { defer: true }\r\n    )\r\n  );\r\n\r\n  onCleanup(() => {\r\n    if (isServer) {\r\n      return;\r\n    }\r\n\r\n    window.clearTimeout(timeoutId);\r\n  });\r\n\r\n  return { keepMounted, style };\r\n}\r\n"],"names":["createControllableSignal","props","_value","_setValue","createSignal","defaultValue","isControlled","createMemo","value","undefined","setValue","next","untrack","nextValue","accessWith","Object","is","onChange","createControllableBooleanSignal","createControllableArraySignal","createDisclosure","isOpen","setIsOpen","access","defaultIsOpen","onOpenChange","open","close","toggle","createInteractOutside","ref","isPointerDown","setIsPointerDown","createEffect","isDisabled","onPointerDown","e","isInteractOutsideEvent","onInteractOutsideStart","onPointerUp","onInteractOutside","document","addEventListener","onCleanup","removeEventListener","event","element","button","target","ownerDocument","documentElement","contains","visualViewport","window","nonTextInputTypes","Set","createPreventScroll","options","on","isEnabled","isIOS","preventScrollMobileSafari","preventScrollStandard","chain","setStyle","innerWidth","clientWidth","scrollable","lastY","onTouchStart","getScrollParent","body","changedTouches","pageY","onTouchMove","preventDefault","y","scrollTop","bottom","scrollHeight","clientHeight","onTouchEnd","willOpenKeyboard","activeElement","style","transform","focus","requestAnimationFrame","onFocus","height","innerHeight","scrollIntoView","once","onWindowScroll","scrollTo","scrollX","pageXOffset","scrollY","pageYOffset","restoreStyles","removeEvents","addEvent","passive","capture","cur","handler","root","scrollingElement","scrollableTop","getBoundingClientRect","top","targetTop","parentElement","HTMLInputElement","has","type","HTMLTextAreaElement","HTMLElement","isContentEditable","createReducedMotion","fallbackState","watchChange","createMediaQuery","createTagName","tagName","setTagName","stringOrUndefined","toLowerCase","popIn","in","opacity","out","DEFAULT_TRANSITIONS","fade","scale","common","pop","DEFAULT_TRANSITIONS_NAMES","keys","TRANSITION_PHASES_MAP","beforeEnter","enter","afterEnter","beforeExit","exit","afterExit","getTransitionStyles","params","shared","duration","easing","isString","transition","transitionStyles","getTransitionProperty","phase","join","DEFAULT_DURATION","DEFAULT_DELAY","DEFAULT_EASING","createTransition","shouldMount","mergeProps","delay","exitDuration","exitDelay","exitEasing","reduceMotion","setDuration","setPhase","setEasing","timeoutId","handleStateChange","preHandler","onBeforeEnter","onBeforeExit","postHandler","onAfterEnter","onAfterExit","clearTimeout","newDuration","preStateTimeoutId","setTimeout","keepMounted","defer","isServer"],"mappings":"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"}